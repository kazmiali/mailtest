{"version":3,"sources":["../src/types.ts","../src/utils/validation.ts","../src/schemas.ts","../src/config/config.ts","../src/errors/errors.ts","../src/utils/logger.ts","../src/index.ts"],"names":["ErrorCode","defaultConfig","validateEmail"],"mappings":";AASO,IAAK,SAAA,qBAAAA,UAAAA,KAAL;AAEL,EAAAA,WAAA,gBAAA,CAAA,GAAiB,gBAAA;AACjB,EAAAA,WAAA,yBAAA,CAAA,GAA0B,yBAAA;AAG1B,EAAAA,WAAA,sBAAA,CAAA,GAAuB,sBAAA;AACvB,EAAAA,WAAA,eAAA,CAAA,GAAgB,eAAA;AAChB,EAAAA,WAAA,mBAAA,CAAA,GAAoB,mBAAA;AACpB,EAAAA,WAAA,cAAA,CAAA,GAAe,cAAA;AACf,EAAAA,WAAA,kBAAA,CAAA,GAAmB,kBAAA;AACnB,EAAAA,WAAA,wBAAA,CAAA,GAAyB,wBAAA;AACzB,EAAAA,WAAA,wBAAA,CAAA,GAAyB,wBAAA;AACzB,EAAAA,WAAA,cAAA,CAAA,GAAe,cAAA;AAGf,EAAAA,WAAA,aAAA,CAAA,GAAc,aAAA;AACd,EAAAA,WAAA,qBAAA,CAAA,GAAsB,qBAAA;AACtB,EAAAA,WAAA,cAAA,CAAA,GAAe,cAAA;AACf,EAAAA,WAAA,eAAA,CAAA,GAAgB,eAAA;AAnBN,EAAA,OAAAA,UAAAA;AAAA,CAAA,EAAA,SAAA,IAAA,EAAA;ACcZ,SAAS,SAAS,KAAA,EAAiC;AACjD,EAAA,OAAO,OAAO,KAAA,KAAU,QAAA;AAC1B;AAKA,SAAS,SAAS,KAAA,EAAiC;AACjD,EAAA,OAAO,OAAO,KAAA,KAAU,QAAA,IAAY,CAAC,MAAM,KAAK,CAAA;AAClD;AAKA,SAAS,UAAU,KAAA,EAAkC;AACnD,EAAA,OAAO,OAAO,KAAA,KAAU,SAAA;AAC1B;AAKA,SAAS,SAAS,KAAA,EAAkD;AAClE,EAAA,OAAO,KAAA,KAAU,QAAQ,OAAO,KAAA,KAAU,YAAY,CAAC,KAAA,CAAM,QAAQ,KAAK,CAAA;AAC5E;AAYA,SAAS,QAAW,IAAA,EAA8B;AAChD,EAAA,OAAO,EAAE,OAAA,EAAS,IAAA,EAAM,IAAA,EAAK;AAC/B;AAKA,SAAS,MAAM,OAAA,EAA0C;AACvD,EAAA,OAAO,EAAE,OAAA,EAAS,KAAA,EAAO,KAAA,EAAO,EAAE,SAAQ,EAAE;AAC9C;AAKO,SAAS,YAAA,CACd,KAAA,EACA,aAAA,EACA,YAAA,EACqB;AACrB,EAAA,IAAI,CAAC,QAAA,CAAS,KAAK,CAAA,EAAG;AACpB,IAAA,OAAO,KAAA,CAAM,CAAA,qBAAA,EAAwB,OAAO,KAAK,CAAA,CAAE,CAAA;AAAA,EACrD;AACA,EAAA,IAAI,CAAC,aAAA,CAAc,QAAA,CAAS,KAAU,CAAA,EAAG;AACvC,IAAA,OAAO,MAAM,YAAY,CAAA;AAAA,EAC3B;AACA,EAAA,OAAO,QAAQ,KAAU,CAAA;AAC3B;AAuCO,SAAS,eAAA,CACd,KAAA,EACA,GAAA,EACA,GAAA,EACA,YAAA,EAC0B;AAC1B,EAAA,IAAI,CAAC,QAAA,CAAS,KAAK,CAAA,EAAG;AACpB,IAAA,OAAO,KAAA,CAAM,CAAA,qBAAA,EAAwB,OAAO,KAAK,CAAA,CAAE,CAAA;AAAA,EACrD;AACA,EAAA,IAAI,CAAC,MAAA,CAAO,SAAA,CAAU,KAAK,CAAA,EAAG;AAC5B,IAAA,OAAO,KAAA,CAAM,gBAAgB,kBAAkB,CAAA;AAAA,EACjD;AACA,EAAA,IAAyB,KAAA,GAAQ,GAAA,EAAK;AACpC,IAAA,OAAO,KAAA,CAAM,YAAA,IAAgB,CAAA,uBAAA,EAA0B,GAAG,CAAA,CAAE,CAAA;AAAA,EAC9D;AAIA,EAAA,OAAO,QAAQ,KAAK,CAAA;AACtB;AAKO,SAAS,uBAAA,CACd,KAAA,EACA,YAAA,GAAe,4BAAA,EACW;AAC1B,EAAA,OAAO,eAAA,CAAgB,KAAA,EAAO,CAAA,EAAG,MAAA,EAAW,YAAY,CAAA;AAC1D;AAKO,SAAS,gBAAgB,KAAA,EAA2C;AACzE,EAAA,IAAI,CAAC,SAAA,CAAU,KAAK,CAAA,EAAG;AACrB,IAAA,OAAO,KAAA,CAAM,CAAA,sBAAA,EAAyB,OAAO,KAAK,CAAA,CAAE,CAAA;AAAA,EACtD;AACA,EAAA,OAAO,QAAQ,KAAK,CAAA;AACtB;AAKO,SAAS,cAAA,CACd,KAAA,EACA,UAAA,EAGA,UAAA,GAAa,KAAA,EACQ;AACrB,EAAA,IAAI,CAAC,QAAA,CAAS,KAAK,CAAA,EAAG;AACpB,IAAA,OAAO,KAAA,CAAM,CAAA,qBAAA,EAAwB,OAAO,KAAK,CAAA,CAAE,CAAA;AAAA,EACrD;AAEA,EAAA,MAAM,SAAS,EAAC;AAChB,EAAA,MAAM,SAAmB,EAAC;AAG1B,EAAA,KAAA,MAAW,CAAC,GAAA,EAAK,SAAS,KAAK,MAAA,CAAO,OAAA,CAAQ,UAAU,CAAA,EAAG;AACzD,IAAA,IAAI,GAAA,IAAO,SAAS,SAAA,EAAW;AAC7B,MAAA,MAAM,WAAA,GAAc,SAAA,CAAU,KAAA,CAAM,GAAG,CAAC,CAAA;AACxC,MAAA,IAAI,YAAY,OAAA,EAAS;AAEvB,QAAA,IAAI,WAAA,CAAY,SAAS,MAAA,EAAW;AAClC,UAAA,MAAA,CAAO,GAAc,IAAI,WAAA,CAAY,IAAA;AAAA,QACvC;AAAA,MACF,CAAA,MAAO;AACL,QAAA,MAAA,CAAO,KAAK,CAAA,EAAG,GAAG,KAAK,WAAA,CAAY,KAAA,CAAM,OAAO,CAAA,CAAE,CAAA;AAAA,MACpD;AAAA,IACF;AAAA,EACF;AAGA,EAAA,IAAI,CAAC,UAAA,EAAY;AACf,IAAA,KAAA,MAAW,OAAO,KAAA,EAAO;AACvB,MAAA,IAAI,EAAE,OAAO,UAAA,CAAA,EAAa;AACxB,QAAA,MAAA,CAAO,IAAA,CAAK,CAAA,kBAAA,EAAqB,GAAG,CAAA,CAAE,CAAA;AAAA,MACxC;AAAA,IACF;AAAA,EACF;AAEA,EAAA,IAAI,MAAA,CAAO,SAAS,CAAA,EAAG;AACrB,IAAA,OAAO,KAAA,CAAM,MAAA,CAAO,IAAA,CAAK,IAAI,CAAC,CAAA;AAAA,EAChC;AAEA,EAAA,OAAO,QAAQ,MAAW,CAAA;AAC5B;AAKO,SAAS,gBAAA,CACd,OACA,SAAA,EACiC;AACjC,EAAA,IAAI,KAAA,KAAU,MAAA,IAAa,KAAA,KAAU,IAAA,EAAM;AACzC,IAAA,OAAO,QAAQ,MAAS,CAAA;AAAA,EAC1B;AACA,EAAA,OAAO,UAAU,KAAK,CAAA;AACxB;;;ACjMA,IAAM,SAAN,MAAgB;AAAA,EACd,YAAoB,SAAA,EAAoD;AAApD,IAAA,IAAA,CAAA,SAAA,GAAA,SAAA;AAAA,EAAqD;AAAA,EAEzE,UAAU,KAAA,EAAqC;AAC7C,IAAA,OAAO,IAAA,CAAK,UAAU,KAAK,CAAA;AAAA,EAC7B;AACF,CAAA;AAiEO,IAAM,qBAAA,GAAwB,IAAI,MAAA,CAAwB,CAAC,KAAA,KAAU;AAC1E,EAAA,IAAI,CAAC,SAAS,OAAO,KAAA,KAAU,YAAY,KAAA,CAAM,OAAA,CAAQ,KAAK,CAAA,EAAG;AAC/D,IAAA,OAAO,EAAE,OAAA,EAAS,KAAA,EAAO,OAAO,EAAE,OAAA,EAAS,mBAAkB,EAAE;AAAA,EACjE;AACA,EAAA,MAAM,GAAA,GAAM,KAAA;AACZ,EAAA,IAAI,EAAE,aAAa,GAAA,CAAA,EAAM;AACvB,IAAA,OAAO,EAAE,OAAA,EAAS,KAAA,EAAO,OAAO,EAAE,OAAA,EAAS,mCAAkC,EAAE;AAAA,EACjF;AACA,EAAA,MAAM,aAAA,GAAgB,eAAA,CAAgB,GAAA,CAAI,OAAO,CAAA;AACjD,EAAA,IAAI,CAAC,cAAc,OAAA,EAAS;AAC1B,IAAA,OAAO,aAAA;AAAA,EACT;AACA,EAAA,OAAO,EAAE,SAAS,IAAA,EAAM,IAAA,EAAM,EAAE,OAAA,EAAS,aAAA,CAAc,MAAK,EAAE;AAChE,CAAC,CAAA;AAKD,IAAM,4BAAA,GAA+B,IAAI,MAAA,CAEvC,CAAC,KAAA,KAAU;AACX,EAAA,IAAI,CAAC,SAAS,OAAO,KAAA,KAAU,YAAY,KAAA,CAAM,OAAA,CAAQ,KAAK,CAAA,EAAG;AAC/D,IAAA,OAAO,EAAE,OAAA,EAAS,KAAA,EAAO,OAAO,EAAE,OAAA,EAAS,mBAAkB,EAAE;AAAA,EACjE;AAEA,EAAA,MAAM,SAAgE,EAAC;AACvE,EAAA,MAAM,SAAmB,EAAC;AAE1B,EAAA,KAAA,MAAW,CAAC,GAAA,EAAK,GAAG,KAAK,MAAA,CAAO,OAAA,CAAQ,KAAK,CAAA,EAAG;AAC9C,IAAA,IAAI,QAAQ,MAAA,EAAW;AACrB,MAAA,MAAA,CAAO,GAAG,CAAA,GAAI,MAAA;AAAA,IAChB,CAAA,MAAA,IAAW,OAAO,GAAA,KAAQ,SAAA,EAAW;AACnC,MAAA,MAAA,CAAO,GAAG,CAAA,GAAI,GAAA;AAAA,IAChB,CAAA,MAAO;AACL,MAAA,MAAM,YAAA,GAAe,qBAAA,CAAsB,SAAA,CAAU,GAAG,CAAA;AACxD,MAAA,IAAI,aAAa,OAAA,EAAS;AACxB,QAAA,MAAA,CAAO,GAAG,IAAI,YAAA,CAAa,IAAA;AAAA,MAC7B,CAAA,MAAO;AACL,QAAA,MAAA,CAAO,KAAK,CAAA,EAAG,GAAG,KAAK,YAAA,CAAa,KAAA,CAAM,OAAO,CAAA,CAAE,CAAA;AAAA,MACrD;AAAA,IACF;AAAA,EACF;AAEA,EAAA,IAAI,MAAA,CAAO,SAAS,CAAA,EAAG;AACrB,IAAA,OAAO,EAAE,OAAA,EAAS,KAAA,EAAO,KAAA,EAAO,EAAE,SAAS,MAAA,CAAO,IAAA,CAAK,IAAI,CAAA,EAAE,EAAE;AAAA,EACjE;AAEA,EAAA,OAAO,EAAE,OAAA,EAAS,IAAA,EAAM,IAAA,EAAM,MAAA,EAAO;AACvC,CAAC,CAAA;AAgHM,IAAM,eAAe,IAAI,MAAA;AAAA,EAA6C,CAAC,UAC5E,YAAA,CAAa,KAAA,EAAO,CAAC,QAAA,EAAU,UAAA,EAAY,YAAY,CAAA,EAAY,gBAAgB;AACrF,CAAA;AAKO,IAAM,YAAA,GAAe,IAAI,MAAA,CAK7B,CAAC,KAAA,KAAU;AACZ,EAAA,MAAM,MAAA,GAAS,cAAA;AAAA,IACb,KAAA;AAAA,IACA;AAAA,MACE,MAAA,EAAQ,CAAC,GAAA,KAAQ,gBAAA,CAAiB,GAAA,EAAK,CAAC,CAAA,KAAM,YAAA,CAAa,SAAA,CAAU,CAAC,CAAC,CAAA;AAAA,MACvE,UAAA,EAAY,CAAC,GAAA,KAAQ,gBAAA,CAAiB,GAAA,EAAK,CAAC,CAAA,KAAM,4BAAA,CAA6B,SAAA,CAAU,CAAC,CAAC,CAAA;AAAA,MAC3F,SAAA,EAAW,CAAC,GAAA,KAAQ,gBAAA,CAAiB,KAAK,eAAe,CAAA;AAAA,MACzD,OAAA,EAAS,CAAC,GAAA,KACR,gBAAA;AAAA,QAAiB,GAAA;AAAA,QAAK,CAAC,CAAA,KACrB,uBAAA,CAAwB,CAAA,EAAG,oCAAoC;AAAA;AACjE,KACJ;AAAA,IACA;AAAA,GACF;AACA,EAAA,OAAO,MAAA;AAMT,CAAC,CAAA;;;ACvRD,IAAM,aAAA,GAAgB;AAAA,EACpB,UAAA,EAAY;AAAA,IACV,KAAA,EAAO,EAAE,OAAA,EAAS,IAAA,EAAK;AAAA,IACvB,IAAA,EAAM,EAAE,OAAA,EAAS,IAAA,EAAK;AAAA,IACtB,UAAA,EAAY,EAAE,OAAA,EAAS,IAAA,EAAK;AAAA,IAC5B,EAAA,EAAI,EAAE,OAAA,EAAS,IAAA,EAAK;AAAA,IACpB,IAAA,EAAM,EAAE,OAAA,EAAS,KAAA;AAAM;AAAA,GACzB;AAAA,EACA,SAAA,EAAW,KAEb,CAAA;AAMA,IAAM,YAAA,GAAe;AAAA,EACnB,UAAA,EAAY;AAAA,IACV,KAAA,EAAO,EAAE,OAAA,EAAS,IAAA,EAAK;AAAA,IACvB,IAAA,EAAM,EAAE,OAAA,EAAS,IAAA,EAAK;AAAA,IACtB,UAAA,EAAY,EAAE,OAAA,EAAS,IAAA,EAAK;AAAA,IAC5B,EAAA,EAAI,EAAE,OAAA,EAAS,IAAA,EAAK;AAAA,IACpB,IAAA,EAAM,EAAE,OAAA,EAAS,IAAA;AAAK,GACxB;AAAA,EACA,SAAA,EAAW;AACb,CAAA;AAMA,IAAM,cAAA,GAAiB;AAAA,EACrB,UAAA,EAAY;AAAA,IACV,KAAA,EAAO,EAAE,OAAA,EAAS,IAAA,EAAK;AAAA,IACvB,IAAA,EAAM,EAAE,OAAA,EAAS,IAAA,EAAK;AAAA,IACtB,UAAA,EAAY,EAAE,OAAA,EAAS,IAAA,EAAK;AAAA,IAC5B,EAAA,EAAI,EAAE,OAAA,EAAS,IAAA,EAAK;AAAA,IACpB,IAAA,EAAM,EAAE,OAAA,EAAS,KAAA;AAAM,GACzB;AAAA,EACA,SAAA,EAAW;AACb,CAAA;AAMA,IAAM,gBAAA,GAAmB;AAAA,EACvB,UAAA,EAAY;AAAA,IACV,KAAA,EAAO,EAAE,OAAA,EAAS,IAAA,EAAK;AAAA,IACvB,IAAA,EAAM,EAAE,OAAA,EAAS,KAAA,EAAM;AAAA,IACvB,UAAA,EAAY,EAAE,OAAA,EAAS,KAAA,EAAM;AAAA,IAC7B,EAAA,EAAI,EAAE,OAAA,EAAS,KAAA,EAAM;AAAA,IACrB,IAAA,EAAM,EAAE,OAAA,EAAS,KAAA;AAAM,GACzB;AAAA,EACA,SAAA,EAAW;AACb,CAAA;AAiCO,IAAM,gBAAN,MAAoB;AAAA,EACjB,MAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAQR,YAAY,UAAA,EAA8B;AAExC,IAAA,IAAI,UAAA,EAAY;AACd,MAAA,MAAM,gBAAA,GAAmB,YAAA,CAAa,SAAA,CAAU,UAAU,CAAA;AAC1D,MAAA,IAAI,CAAC,iBAAiB,OAAA,EAAS;AAC7B,QAAA,MAAM,IAAI,KAAA,CAAM,CAAA,uBAAA,EAA0B,gBAAA,CAAiB,KAAA,CAAM,OAAO,CAAA,CAAE,CAAA;AAAA,MAC5E;AAAA,IACF;AAGA,IAAA,IAAA,CAAK,MAAA,GAAS,IAAA,CAAK,mBAAA,CAAoB,UAAU,CAAA;AAAA,EACnD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOQ,oBAAoB,UAAA,EAA4C;AAEtE,IAAA,IAAI,MAAA,GAAgC;AAAA,MAClC,UAAA,EAAY;AAAA,QACV,OAAO,EAAE,OAAA,EAAS,aAAA,CAAc,UAAA,CAAW,MAAM,OAAA,EAAQ;AAAA,QACzD,MAAM,EAAE,OAAA,EAAS,aAAA,CAAc,UAAA,CAAW,KAAK,OAAA,EAAQ;AAAA,QACvD,UAAA,EAAY;AAAA,UACV,OAAA,EAAS,aAAA,CAAc,UAAA,CAAW,UAAA,CAAW;AAAA,SAC/C;AAAA,QACA,IAAI,EAAE,OAAA,EAAS,aAAA,CAAc,UAAA,CAAW,GAAG,OAAA,EAAQ;AAAA,QACnD,MAAM,EAAE,OAAA,EAAS,aAAA,CAAc,UAAA,CAAW,KAAK,OAAA;AAAQ,OACzD;AAAA,MACA,WAAW,aAAA,CAAc,SAAA;AAAA,MACzB,OAAA,EAAkC;AAAA,KACpC;AAGA,IAAA,IAAI,YAAY,MAAA,EAAQ;AACtB,MAAA,MAAM,MAAA,GAAS,IAAA,CAAK,eAAA,CAAgB,UAAA,CAAW,MAAM,CAAA;AACrD,MAAA,MAAA,GAAS,IAAA,CAAK,SAAA,CAAU,MAAA,EAAQ,MAAM,CAAA;AAAA,IACxC;AAGA,IAAA,IAAI,UAAA,EAAY;AACd,MAAA,MAAM,EAAE,MAAA,EAAQ,OAAA,EAAS,GAAG,qBAAoB,GAAI,UAAA;AACpD,MAAA,MAAA,GAAS,IAAA,CAAK,SAAA,CAAU,MAAA,EAAQ,mBAAmB,CAAA;AAAA,IACrD;AAGA,IAAA,MAAM,uBAAuB,IAAA,CAAK,mBAAA,CAAoB,MAAA,CAAO,UAAA,IAAc,EAAE,CAAA;AAE7E,IAAA,OAAO;AAAA,MACL,UAAA,EAAY,oBAAA;AAAA,MACZ,SAAA,EAAW,OAAO,SAAA,IAAa,KAAA;AAAA,MAC/B,SAAS,MAAA,CAAO;AAAA,KAClB;AAAA,EACF;AAAA;AAAA;AAAA;AAAA,EAKQ,gBAAgB,MAAA,EAA+D;AACrF,IAAA,QAAQ,MAAA;AAAQ,MACd,KAAK,QAAA;AACH,QAAA,OAAO;AAAA,UACL,UAAA,EAAY;AAAA,YACV,OAAO,EAAE,OAAA,EAAS,YAAA,CAAa,UAAA,CAAW,MAAM,OAAA,EAAQ;AAAA,YACxD,MAAM,EAAE,OAAA,EAAS,YAAA,CAAa,UAAA,CAAW,KAAK,OAAA,EAAQ;AAAA,YACtD,UAAA,EAAY;AAAA,cACV,OAAA,EAAS,YAAA,CAAa,UAAA,CAAW,UAAA,CAAW;AAAA,aAC9C;AAAA,YACA,IAAI,EAAE,OAAA,EAAS,YAAA,CAAa,UAAA,CAAW,GAAG,OAAA,EAAQ;AAAA,YAClD,MAAM,EAAE,OAAA,EAAS,YAAA,CAAa,UAAA,CAAW,KAAK,OAAA;AAAQ,WACxD;AAAA,UACA,WAAW,YAAA,CAAa;AAAA,SAC1B;AAAA,MACF,KAAK,UAAA;AACH,QAAA,OAAO;AAAA,UACL,UAAA,EAAY;AAAA,YACV,OAAO,EAAE,OAAA,EAAS,cAAA,CAAe,UAAA,CAAW,MAAM,OAAA,EAAQ;AAAA,YAC1D,MAAM,EAAE,OAAA,EAAS,cAAA,CAAe,UAAA,CAAW,KAAK,OAAA,EAAQ;AAAA,YACxD,UAAA,EAAY;AAAA,cACV,OAAA,EAAS,cAAA,CAAe,UAAA,CAAW,UAAA,CAAW;AAAA,aAChD;AAAA,YACA,IAAI,EAAE,OAAA,EAAS,cAAA,CAAe,UAAA,CAAW,GAAG,OAAA,EAAQ;AAAA,YACpD,MAAM,EAAE,OAAA,EAAS,cAAA,CAAe,UAAA,CAAW,KAAK,OAAA;AAAQ,WAC1D;AAAA,UACA,WAAW,cAAA,CAAe;AAAA,SAC5B;AAAA,MACF,KAAK,YAAA;AACH,QAAA,OAAO;AAAA,UACL,UAAA,EAAY;AAAA,YACV,OAAO,EAAE,OAAA,EAAS,gBAAA,CAAiB,UAAA,CAAW,MAAM,OAAA,EAAQ;AAAA,YAC5D,MAAM,EAAE,OAAA,EAAS,gBAAA,CAAiB,UAAA,CAAW,KAAK,OAAA,EAAQ;AAAA,YAC1D,UAAA,EAAY;AAAA,cACV,OAAA,EAAS,gBAAA,CAAiB,UAAA,CAAW,UAAA,CAAW;AAAA,aAClD;AAAA,YACA,IAAI,EAAE,OAAA,EAAS,gBAAA,CAAiB,UAAA,CAAW,GAAG,OAAA,EAAQ;AAAA,YACtD,MAAM,EAAE,OAAA,EAAS,gBAAA,CAAiB,UAAA,CAAW,KAAK,OAAA;AAAQ,WAC5D;AAAA,UACA,WAAW,gBAAA,CAAiB;AAAA,SAC9B;AAAA,MACF;AACE,QAAA,OAAO,EAAC;AAAA;AACZ,EACF;AAAA;AAAA;AAAA;AAAA,EAKQ,SAAA,CAAU,QAA+B,MAAA,EAAgD;AAC/F,IAAA,MAAM,MAAA,GAAgC,EAAE,GAAG,MAAA,EAAO;AAGlD,IAAA,IAAI,OAAO,UAAA,EAAY;AACrB,MAAA,MAAA,CAAO,UAAA,GAAa;AAAA,QAClB,GAAI,MAAA,CAAO,UAAA,IAAc,EAAC;AAAA,QAC1B,GAAG,MAAA,CAAO;AAAA,OACZ;AAAA,IACF;AAGA,IAAA,IAAI,MAAA,CAAO,cAAc,MAAA,EAAW;AAClC,MAAA,MAAA,CAAO,YAAY,MAAA,CAAO,SAAA;AAAA,IAC5B;AAEA,IAAA,IAAI,MAAA,CAAO,YAAY,MAAA,EAAW;AAChC,MAAA,MAAA,CAAO,UAAU,MAAA,CAAO,OAAA;AAAA,IAC1B,WAAW,MAAA,CAAO,OAAA,KAAY,MAAA,IAAa,MAAA,CAAO,YAAY,MAAA,EAAW;AACvE,MAAA,MAAA,CAAO,OAAA,GAAU,MAAA;AAAA,IACnB;AAEA,IAAA,OAAO,MAAA;AAAA,EACT;AAAA;AAAA;AAAA;AAAA,EAKQ,oBACN,UAAA,EACiC;AACjC,IAAA,MAAM,aAA8C,EAAC;AAErD,IAAA,KAAA,MAAW,CAAC,GAAA,EAAK,KAAK,KAAK,MAAA,CAAO,OAAA,CAAQ,UAAU,CAAA,EAAG;AACrD,MAAA,IAAI,UAAU,MAAA,EAAW;AACvB,QAAA;AAAA,MACF;AAEA,MAAA,IAAI,OAAO,UAAU,SAAA,EAAW;AAC9B,QAAA,UAAA,CAAW,GAAG,CAAA,GAAI,EAAE,OAAA,EAAS,KAAA,EAAM;AAAA,MACrC,CAAA,MAAA,IAAW,UAAU,MAAA,EAAW;AAC9B,QAAA,UAAA,CAAW,GAAG,CAAA,GAAI,KAAA;AAAA,MACpB;AAAA,IACF;AAEA,IAAA,OAAO,UAAA;AAAA,EACT;AAAA;AAAA;AAAA;AAAA,EAKA,GAAA,GAAoB;AAClB,IAAA,OAAO,EAAE,GAAG,IAAA,CAAK,MAAA,EAAO;AAAA,EAC1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOA,SAAsB,GAAA,EAAgB;AACpC,IAAA,MAAM,IAAA,GAAO,GAAA,CAAI,KAAA,CAAM,GAAG,CAAA;AAC1B,IAAA,IAAI,QAAiB,IAAA,CAAK,MAAA;AAE1B,IAAA,KAAA,MAAW,KAAK,IAAA,EAAM;AACpB,MAAA,IAAI,KAAA,IAAS,OAAO,KAAA,KAAU,QAAA,IAAY,KAAM,KAAA,EAAmC;AACjF,QAAA,KAAA,GAAS,MAAkC,CAAC,CAAA;AAAA,MAC9C,CAAA,MAAO;AACL,QAAA,MAAM,IAAI,KAAA,CAAM,CAAA,mBAAA,EAAsB,GAAG,CAAA,WAAA,CAAa,CAAA;AAAA,MACxD;AAAA,IACF;AAEA,IAAA,OAAO,KAAA;AAAA,EACT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOA,mBAAmB,aAAA,EAAgC;AACjD,IAAA,MAAM,SAAA,GAAY,IAAA,CAAK,MAAA,CAAO,UAAA,CAAW,aAAa,CAAA;AACtD,IAAA,OAAO,WAAW,OAAA,IAAW,KAAA;AAAA,EAC/B;AACF;;;AC9RO,IAAM,eAAA,GAAN,MAAM,gBAAA,SAAwB,KAAA,CAAM;AAAA,EACzB,IAAA;AAAA,EACA,SAAA;AAAA,EACA,OAAA;AAAA,EACA,QAAA;AAAA,EAEhB,YACE,OAAA,EACA,IAAA,EACA,SAAA,EACA,OAAA,EACA,WAA0B,OAAA,EAC1B;AACA,IAAA,KAAA,CAAM,OAAO,CAAA;AACb,IAAA,IAAA,CAAK,IAAA,GAAO,iBAAA;AACZ,IAAA,IAAA,CAAK,IAAA,GAAO,IAAA;AACZ,IAAA,IAAA,CAAK,SAAA,GAAY,SAAA;AACjB,IAAA,IAAA,CAAK,OAAA,GAAU,OAAA;AACf,IAAA,IAAA,CAAK,QAAA,GAAW,QAAA;AAGhB,IAAA,IAAI,mBAAA,IAAuB,KAAA,IAAS,OAAO,KAAA,CAAM,sBAAsB,UAAA,EAAY;AACjF,MAAA,KAAA,CAAM,iBAAA,CAAkB,MAAM,gBAAe,CAAA;AAAA,IAC/C;AAAA,EACF;AAAA;AAAA;AAAA;AAAA,EAKA,iBAAA,GAAyC;AACvC,IAAA,MAAM,MAAA,GAA8B;AAAA,MAClC,MAAM,IAAA,CAAK,IAAA;AAAA,MACX,SAAS,IAAA,CAAK,OAAA;AAAA,MACd,UAAU,IAAA,CAAK;AAAA,KACjB;AAEA,IAAA,IAAI,IAAA,CAAK,cAAc,MAAA,EAAW;AAChC,MAAA,MAAA,CAAO,YAAY,IAAA,CAAK,SAAA;AAAA,IAC1B;AAEA,IAAA,IAAI,IAAA,CAAK,YAAY,MAAA,EAAW;AAC9B,MAAA,MAAA,CAAO,UAAU,IAAA,CAAK,OAAA;AAAA,IACxB;AAEA,IAAA,OAAO,MAAA;AAAA,EACT;AACF;AAOO,IAAM,kBAAA,GAAN,cAAiC,eAAA,CAAgB;AAAA,EACtD,WAAA,CAAY,OAAA,EAAiB,IAAA,GAAA,gBAAA,uBAA4C,OAAA,EAAmB;AAC1F,IAAA,KAAA,CAAM,OAAA,EAAS,IAAA,EAAM,MAAA,EAAW,OAAA,EAAS,OAAO,CAAA;AAChD,IAAA,IAAA,CAAK,IAAA,GAAO,oBAAA;AAAA,EACd;AACF;AAOO,IAAM,YAAA,GAAN,cAA2B,eAAA,CAAgB;AAAA,EAChD,WAAA,CAAY,OAAA,EAAiB,SAAA,EAAoB,OAAA,EAAmB;AAClE,IAAA,KAAA,CAAM,OAAA,EAAA,eAAA,sBAAkC,SAAA,EAAW,OAAA,EAAS,OAAO,CAAA;AACnE,IAAA,IAAA,CAAK,IAAA,GAAO,cAAA;AAAA,EACd;AACF;AAOO,IAAM,YAAA,GAAN,cAA2B,eAAA,CAAgB;AAAA,EAChD,WAAA,CAAY,OAAA,EAAiB,SAAA,EAAoB,OAAA,EAAkB,OAAA,EAAmB;AACpF,IAAA,KAAA;AAAA,MACE,OAAA;AAAA,MAAA,cAAA;AAAA,MAEA,SAAA;AAAA,MACA,EAAE,OAAA,EAAS,GAAI,OAAA,EAAoC;AAAA,MACnD;AAAA,KACF;AACA,IAAA,IAAA,CAAK,IAAA,GAAO,cAAA;AAAA,EACd;AACF;AAOO,IAAM,cAAA,GAOT;AAAA;AAAA,EAEF,yCAA4B;AAAA,IAC1B,OAAA,EAAS,gCAAA;AAAA,IACT,UAAA,EAAY,oDAAA;AAAA,IACZ,QAAA,EAAU;AAAA,GACZ;AAAA,EACA,2DAAqC;AAAA,IACnC,OAAA,EAAS,uCAAA;AAAA,IACT,UAAA,EAAY,4DAAA;AAAA,IACZ,QAAA,EAAU;AAAA,GACZ;AAAA;AAAA,EAGA,qDAAkC;AAAA,IAChC,OAAA,EAAS,yBAAA;AAAA,IACT,UAAA,EAAY,0DAAA;AAAA,IACZ,QAAA,EAAU;AAAA,GACZ;AAAA,EACA,uCAA2B;AAAA,IACzB,OAAA,EAAS,+BAAA;AAAA,IACT,UAAA,EAAY,CAAC,OAAA,KAAsB;AACjC,MAAA,MAAM,aAAc,OAAA,EAAqC,UAAA;AACzD,MAAA,OAAO,UAAA,GAAa,CAAA,aAAA,EAAgB,UAAU,CAAA,CAAA,CAAA,GAAM,2BAAA;AAAA,IACtD,CAAA;AAAA,IACA,QAAA,EAAU;AAAA,GACZ;AAAA,EACA,+CAA+B;AAAA,IAC7B,OAAA,EAAS,4CAAA;AAAA,IACT,UAAA,EAAY,sCAAA;AAAA,IACZ,QAAA,EAAU;AAAA,GACZ;AAAA,EACA,qCAA0B;AAAA,IACxB,OAAA,EAAS,gCAAA;AAAA,IACT,UAAA,EAAY,0DAAA;AAAA,IACZ,QAAA,EAAU;AAAA,GACZ;AAAA,EACA,6CAA8B;AAAA,IAC5B,OAAA,EAAS,6BAAA;AAAA,IACT,UAAA,EAAY,gDAAA;AAAA,IACZ,QAAA,EAAU;AAAA,GACZ;AAAA,EACA,yDAAoC;AAAA,IAClC,OAAA,EAAS,8BAAA;AAAA,IACT,UAAA,EAAY,qCAAA;AAAA,IACZ,QAAA,EAAU;AAAA,GACZ;AAAA,EACA,yDAAoC;AAAA,IAClC,OAAA,EAAS,kCAAA;AAAA,IACT,UAAA,EAAY,gDAAA;AAAA,IACZ,QAAA,EAAU;AAAA,GACZ;AAAA,EACA,qCAA0B;AAAA,IACxB,OAAA,EAAS,2BAAA;AAAA,IACT,UAAA,EAAY,4CAAA;AAAA,IACZ,QAAA,EAAU;AAAA,GACZ;AAAA;AAAA,EAGA,mCAAyB;AAAA,IACvB,OAAA,EAAS,wBAAA;AAAA,IACT,UAAA,EAAY,2BAAA;AAAA,IACZ,QAAA,EAAU;AAAA,GACZ;AAAA,EACA,mDAAiC;AAAA,IAC/B,OAAA,EAAS,qBAAA;AAAA,IACT,UAAA,EAAY,oDAAA;AAAA,IACZ,QAAA,EAAU;AAAA,GACZ;AAAA,EACA,qCAA0B;AAAA,IACxB,OAAA,EAAS,uBAAA;AAAA,IACT,UAAA,EAAY,qCAAA;AAAA,IACZ,QAAA,EAAU;AAAA,GACZ;AAAA,EACA,uCAA2B;AAAA,IACzB,OAAA,EAAS,wBAAA;AAAA,IACT,UAAA,EAAY,6CAAA;AAAA,IACZ,QAAA,EAAU;AAAA;AAEd;AAUO,SAAS,WAAA,CACd,IAAA,EACA,SAAA,EACA,OAAA,EACiB;AACjB,EAAA,MAAM,QAAA,GAAW,cAAA,CAAe,IAAI,CAAA,IAAK;AAAA,IACvC,OAAA,EAAS,mBAAA;AAAA,IACT,QAAA,EAAU;AAAA,GACZ;AAEA,EAAA,MAAM,UAAU,QAAA,CAAS,OAAA;AACzB,EAAA,MAAM,WAAW,QAAA,CAAS,QAAA;AAE1B,EAAA,OAAO,IAAI,eAAA,CAAgB,OAAA,EAAS,IAAA,EAAM,SAAA,EAAW,SAAS,QAAQ,CAAA;AACxE;;;ACrNA,IAAM,QAAA,GAAW,IAAI,IAAA,KAA0B;AAE7C,EAAA,OAAA,CAAQ,KAAA,CAAM,GAAG,IAAI,CAAA;AACvB,CAAA;AAEA,IAAM,OAAA,GAAU,IAAI,IAAA,KAA0B;AAE5C,EAAA,OAAA,CAAQ,IAAA,CAAK,GAAG,IAAI,CAAA;AACtB,CAAA;AAEA,IAAM,OAAA,GAAU,IAAI,IAAA,KAA0B;AAE5C,EAAA,OAAA,CAAQ,IAAA,CAAK,GAAG,IAAI,CAAA;AACtB,CAAA;AAEA,IAAM,QAAA,GAAW,IAAI,IAAA,KAA0B;AAE7C,EAAA,OAAA,CAAQ,KAAA,CAAM,GAAG,IAAI,CAAA;AACvB,CAAA;AAqBA,IAAMC,cAAAA,GAAwC;AAAA,EAC5C,OAAA,EAAS,KAAA;AAAA;AAAA,EACT,KAAA,EAAO;AACT,CAAA;AAKA,IAAM,kBAAA,GAA+C;AAAA,EACnD,KAAA,EAAO,CAAA;AAAA,EACP,IAAA,EAAM,CAAA;AAAA,EACN,IAAA,EAAM,CAAA;AAAA,EACN,KAAA,EAAO;AACT,CAAA;AAOO,IAAM,SAAN,MAAa;AAAA,EACV,MAAA;AAAA,EAER,YAAY,MAAA,EAAuB;AACjC,IAAA,IAAA,CAAK,MAAA,GAAS;AAAA,MACZ,OAAA,EAAS,MAAA,EAAQ,OAAA,IAAWA,cAAAA,CAAc,OAAA;AAAA,MAC1C,KAAA,EAAO,MAAA,EAAQ,KAAA,IAASA,cAAAA,CAAc;AAAA,KACxC;AAAA,EACF;AAAA;AAAA;AAAA;AAAA,EAKQ,UAAU,KAAA,EAA0B;AAC1C,IAAA,IAAI,CAAC,IAAA,CAAK,MAAA,CAAO,OAAA,EAAS;AACxB,MAAA,OAAO,KAAA;AAAA,IACT;AAEA,IAAA,MAAM,aAAA,GAAgB,mBAAmB,KAAK,CAAA;AAC9C,IAAA,MAAM,cAAA,GAAiB,kBAAA,CAAmB,IAAA,CAAK,MAAA,CAAO,KAAK,CAAA;AAE3D,IAAA,OAAO,aAAA,IAAiB,cAAA;AAAA,EAC1B;AAAA;AAAA;AAAA;AAAA,EAKQ,aAAA,CAAc,OAAiB,OAAA,EAAyB;AAC9D,IAAA,MAAM,SAAA,GAAA,iBAAY,IAAI,IAAA,EAAK,EAAE,WAAA,EAAY;AACzC,IAAA,OAAO,IAAI,SAAS,CAAA,GAAA,EAAM,MAAM,WAAA,EAAa,KAAK,OAAO,CAAA,CAAA;AAAA,EAC3D;AAAA;AAAA;AAAA;AAAA,EAKA,KAAA,CAAM,YAAoB,IAAA,EAAuB;AAC/C,IAAA,IAAI,IAAA,CAAK,SAAA,CAAU,OAAO,CAAA,EAAG;AAC3B,MAAA,QAAA,CAAS,KAAK,aAAA,CAAc,OAAA,EAAS,OAAO,CAAA,EAAG,GAAG,IAAI,CAAA;AAAA,IACxD;AAAA,EACF;AAAA;AAAA;AAAA;AAAA,EAKA,IAAA,CAAK,YAAoB,IAAA,EAAuB;AAC9C,IAAA,IAAI,IAAA,CAAK,SAAA,CAAU,MAAM,CAAA,EAAG;AAC1B,MAAA,OAAA,CAAQ,KAAK,aAAA,CAAc,MAAA,EAAQ,OAAO,CAAA,EAAG,GAAG,IAAI,CAAA;AAAA,IACtD;AAAA,EACF;AAAA;AAAA;AAAA;AAAA,EAKA,IAAA,CAAK,YAAoB,IAAA,EAAuB;AAC9C,IAAA,IAAI,IAAA,CAAK,SAAA,CAAU,MAAM,CAAA,EAAG;AAC1B,MAAA,OAAA,CAAQ,KAAK,aAAA,CAAc,MAAA,EAAQ,OAAO,CAAA,EAAG,GAAG,IAAI,CAAA;AAAA,IACtD;AAAA,EACF;AAAA;AAAA;AAAA;AAAA,EAKA,KAAA,CAAM,YAAoB,IAAA,EAAuB;AAC/C,IAAA,IAAI,IAAA,CAAK,SAAA,CAAU,OAAO,CAAA,EAAG;AAC3B,MAAA,QAAA,CAAS,KAAK,aAAA,CAAc,OAAA,EAAS,OAAO,CAAA,EAAG,GAAG,IAAI,CAAA;AAAA,IACxD;AAAA,EACF;AAAA;AAAA;AAAA;AAAA,EAKA,UAAU,MAAA,EAA4B;AACpC,IAAA,IAAA,CAAK,MAAA,GAAS;AAAA,MACZ,OAAA,EAAS,MAAA,CAAO,OAAA,IAAW,IAAA,CAAK,MAAA,CAAO,OAAA;AAAA,MACvC,KAAA,EAAO,MAAA,CAAO,KAAA,IAAS,IAAA,CAAK,MAAA,CAAO;AAAA,KACrC;AAAA,EACF;AAAA;AAAA;AAAA;AAAA,EAKA,MAAA,GAAe;AACb,IAAA,IAAA,CAAK,OAAO,OAAA,GAAU,IAAA;AAAA,EACxB;AAAA;AAAA;AAAA;AAAA,EAKA,OAAA,GAAgB;AACd,IAAA,IAAA,CAAK,OAAO,OAAA,GAAU,KAAA;AAAA,EACxB;AAAA;AAAA;AAAA;AAAA,EAKA,SAAA,GAAqB;AACnB,IAAA,OAAO,KAAK,MAAA,CAAO,OAAA;AAAA,EACrB;AAAA;AAAA;AAAA;AAAA,EAKA,QAAA,GAAqB;AACnB,IAAA,OAAO,KAAK,MAAA,CAAO,KAAA;AAAA,EACrB;AAAA;AAAA;AAAA;AAAA,EAKA,SAAS,KAAA,EAAuB;AAC9B,IAAA,IAAA,CAAK,OAAO,KAAA,GAAQ,KAAA;AAAA,EACtB;AACF;AAKA,IAAI,aAAA;AAKG,SAAS,SAAA,GAAoB;AAClC,EAAA,IAAI,CAAC,aAAA,EAAe;AAClB,IAAA,aAAA,GAAgB,IAAI,MAAA,EAAO;AAAA,EAC7B;AACA,EAAA,OAAO,aAAA;AACT;AAKO,SAAS,aAAa,MAAA,EAA+B;AAC1D,EAAA,OAAO,IAAI,OAAO,MAAM,CAAA;AAC1B;;;AClKO,SAASC,eAAc,KAAA,EAAwB;AACpD,EAAA,IAAI,CAAC,KAAA,IAAS,OAAO,KAAA,KAAU,QAAA,EAAU;AACvC,IAAA,OAAO,KAAA;AAAA,EACT;AAGA,EAAA,OAAO,KAAA,CAAM,SAAS,GAAG,CAAA;AAC3B;AAKO,IAAM,OAAA,GAAU","file":"index.js","sourcesContent":["/**\n * Core type definitions for mailtest\n *\n * @packageDocumentation\n */\n\n/**\n * Error codes used throughout the validation library\n */\nexport enum ErrorCode {\n  // Configuration errors\n  INVALID_CONFIG = 'INVALID_CONFIG',\n  MISSING_REQUIRED_OPTION = 'MISSING_REQUIRED_OPTION',\n\n  // Validation errors\n  REGEX_INVALID_FORMAT = 'REGEX_INVALID_FORMAT',\n  TYPO_DETECTED = 'TYPO_DETECTED',\n  DISPOSABLE_DOMAIN = 'DISPOSABLE_DOMAIN',\n  MX_NOT_FOUND = 'MX_NOT_FOUND',\n  MX_LOOKUP_FAILED = 'MX_LOOKUP_FAILED',\n  SMTP_MAILBOX_NOT_FOUND = 'SMTP_MAILBOX_NOT_FOUND',\n  SMTP_CONNECTION_FAILED = 'SMTP_CONNECTION_FAILED',\n  SMTP_TIMEOUT = 'SMTP_TIMEOUT',\n\n  // System errors\n  CACHE_ERROR = 'CACHE_ERROR',\n  RATE_LIMIT_EXCEEDED = 'RATE_LIMIT_EXCEEDED',\n  PLUGIN_ERROR = 'PLUGIN_ERROR',\n  NETWORK_ERROR = 'NETWORK_ERROR',\n}\n\n/**\n * Error severity levels\n */\nexport type ErrorSeverity = 'warning' | 'error' | 'critical';\n\n/**\n * Validation error details\n */\nexport interface ValidationError {\n  /** Error code from ErrorCode enum */\n  code: ErrorCode | string;\n\n  /** Human-readable error message */\n  message: string;\n\n  /** Optional helpful suggestion for the user */\n  suggestion?: string;\n\n  /** Error severity level */\n  severity: ErrorSeverity;\n\n  /** Name of the validator that produced this error */\n  validator?: string;\n\n  /** Additional error details */\n  details?: unknown;\n}\n\n/**\n * Result from an individual validator\n */\nexport interface ValidatorResult {\n  /** Whether the validator passed */\n  valid: boolean;\n\n  /** Name of the validator */\n  validator: string;\n\n  /** Error details if validation failed */\n  error?: ValidationError;\n\n  /** Additional validator-specific data */\n  details?: Record<string, unknown>;\n}\n\n/**\n * Main validation result returned by validate() function\n */\nexport interface ValidationResult {\n  /** Whether the email is valid overall */\n  valid: boolean;\n\n  /** The email address that was validated */\n  email: string;\n\n  /** Reputation score (0-100) */\n  score: number;\n\n  /** Which validator failed (if invalid) */\n  reason?: 'regex' | 'typo' | 'disposable' | 'mx' | 'smtp' | 'custom';\n\n  /** Results from each validator */\n  validators: {\n    regex?: ValidatorResult;\n    typo?: ValidatorResult;\n    disposable?: ValidatorResult;\n    mx?: ValidatorResult;\n    smtp?: ValidatorResult;\n    [customValidator: string]: ValidatorResult | undefined;\n  };\n}\n\n/**\n * Base configuration for individual validators\n */\nexport interface ValidatorConfig {\n  /** Whether this validator is enabled */\n  enabled: boolean;\n}\n\n/**\n * Options for validating a single email\n */\nexport interface ValidatorOptions {\n  /** Email address to validate */\n  email: string;\n\n  /** Validator-specific configurations */\n  validators?: {\n    regex?: ValidatorConfig | boolean;\n    typo?: ValidatorConfig | boolean;\n    disposable?: ValidatorConfig | boolean;\n    mx?: ValidatorConfig | boolean;\n    smtp?: ValidatorConfig | boolean;\n    [key: string]: ValidatorConfig | boolean | undefined;\n  };\n\n  /** Stop validation on first failure */\n  earlyExit?: boolean;\n\n  /** Timeout for entire validation in milliseconds */\n  timeout?: number;\n}\n","/**\n * Custom validation utilities\n * Replaces Zod with lightweight, dependency-free validators\n *\n * @packageDocumentation\n */\n\n/**\n * Validation result matching Zod's safeParse API\n */\nexport type ValidationResult<T> =\n  | { success: true; data: T }\n  | { success: false; error: { message: string } };\n\n/**\n * Simple email regex (RFC 5322 compliant subset)\n */\nconst EMAIL_REGEX =\n  /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;\n\n/**\n * Check if value is a string\n */\nfunction isString(value: unknown): value is string {\n  return typeof value === 'string';\n}\n\n/**\n * Check if value is a number\n */\nfunction isNumber(value: unknown): value is number {\n  return typeof value === 'number' && !isNaN(value);\n}\n\n/**\n * Check if value is a boolean\n */\nfunction isBoolean(value: unknown): value is boolean {\n  return typeof value === 'boolean';\n}\n\n/**\n * Check if value is an object (not null, not array)\n */\nfunction isObject(value: unknown): value is Record<string, unknown> {\n  return value !== null && typeof value === 'object' && !Array.isArray(value);\n}\n\n/**\n * Validate email format\n */\nfunction isValidEmail(email: string): boolean {\n  return EMAIL_REGEX.test(email);\n}\n\n/**\n * Create a success result\n */\nfunction success<T>(data: T): ValidationResult<T> {\n  return { success: true, data };\n}\n\n/**\n * Create an error result\n */\nfunction error(message: string): ValidationResult<never> {\n  return { success: false, error: { message } };\n}\n\n/**\n * Validate enum value\n */\nexport function validateEnum<T extends string>(\n  value: unknown,\n  allowedValues: readonly T[],\n  errorMessage: string\n): ValidationResult<T> {\n  if (!isString(value)) {\n    return error(`Expected string, got ${typeof value}`);\n  }\n  if (!allowedValues.includes(value as T)) {\n    return error(errorMessage);\n  }\n  return success(value as T);\n}\n\n/**\n * Validate string with minimum length\n */\nexport function validateString(\n  value: unknown,\n  minLength = 0,\n  errorMessage?: string\n): ValidationResult<string> {\n  if (!isString(value)) {\n    return error(`Expected string, got ${typeof value}`);\n  }\n  if (value.length < minLength) {\n    return error(errorMessage || `String must be at least ${minLength} character(s)`);\n  }\n  return success(value);\n}\n\n/**\n * Validate email string\n */\nexport function validateEmail(\n  value: unknown,\n  errorMessage = 'Invalid email format'\n): ValidationResult<string> {\n  const stringResult = validateString(value, 1);\n  if (!stringResult.success) {\n    return stringResult;\n  }\n  if (!isValidEmail(stringResult.data)) {\n    return error(errorMessage);\n  }\n  return success(stringResult.data);\n}\n\n/**\n * Validate number (integer)\n */\nexport function validateInteger(\n  value: unknown,\n  min?: number,\n  max?: number,\n  errorMessage?: string\n): ValidationResult<number> {\n  if (!isNumber(value)) {\n    return error(`Expected number, got ${typeof value}`);\n  }\n  if (!Number.isInteger(value)) {\n    return error(errorMessage || 'Expected integer');\n  }\n  if (min !== undefined && value < min) {\n    return error(errorMessage || `Value must be at least ${min}`);\n  }\n  if (max !== undefined && value > max) {\n    return error(errorMessage || `Value must be at most ${max}`);\n  }\n  return success(value);\n}\n\n/**\n * Validate positive integer\n */\nexport function validatePositiveInteger(\n  value: unknown,\n  errorMessage = 'Must be a positive integer'\n): ValidationResult<number> {\n  return validateInteger(value, 1, undefined, errorMessage);\n}\n\n/**\n * Validate boolean\n */\nexport function validateBoolean(value: unknown): ValidationResult<boolean> {\n  if (!isBoolean(value)) {\n    return error(`Expected boolean, got ${typeof value}`);\n  }\n  return success(value);\n}\n\n/**\n * Validate object with optional fields\n */\nexport function validateObject<T extends Record<string, unknown>>(\n  value: unknown,\n  validators: {\n    [K in keyof T]?: (val: unknown) => ValidationResult<T[K]>;\n  },\n  allowExtra = false\n): ValidationResult<T> {\n  if (!isObject(value)) {\n    return error(`Expected object, got ${typeof value}`);\n  }\n\n  const result = {} as Partial<T>;\n  const errors: string[] = [];\n\n  // Validate known fields\n  for (const [key, validator] of Object.entries(validators)) {\n    if (key in value && validator) {\n      const fieldResult = validator(value[key]);\n      if (fieldResult.success) {\n        // Only include field if it's not undefined (for optional fields)\n        if (fieldResult.data !== undefined) {\n          result[key as keyof T] = fieldResult.data;\n        }\n      } else {\n        errors.push(`${key}: ${fieldResult.error.message}`);\n      }\n    }\n  }\n\n  // Check for extra fields if not allowed\n  if (!allowExtra) {\n    for (const key in value) {\n      if (!(key in validators)) {\n        errors.push(`Unexpected field: ${key}`);\n      }\n    }\n  }\n\n  if (errors.length > 0) {\n    return error(errors.join('; '));\n  }\n\n  return success(result as T);\n}\n\n/**\n * Validate optional value\n */\nexport function validateOptional<T>(\n  value: unknown,\n  validator: (val: unknown) => ValidationResult<T>\n): ValidationResult<T | undefined> {\n  if (value === undefined || value === null) {\n    return success(undefined);\n  }\n  return validator(value);\n}\n\n/**\n * Validate union (one of multiple validators)\n */\nexport function validateUnion<T>(\n  value: unknown,\n  validators: Array<(val: unknown) => ValidationResult<T>>\n): ValidationResult<T> {\n  const errors: string[] = [];\n  for (const validator of validators) {\n    const result = validator(value);\n    if (result.success) {\n      return result;\n    }\n    errors.push(result.error.message);\n  }\n  return error(`None of the validators passed: ${errors.join('; ')}`);\n}\n\n/**\n * Validate record (object with string keys)\n */\nexport function validateRecord<T>(\n  value: unknown,\n  valueValidator: (val: unknown) => ValidationResult<T>,\n  _allowExtra = true\n): ValidationResult<Record<string, T>> {\n  if (!isObject(value)) {\n    return error(`Expected object, got ${typeof value}`);\n  }\n\n  const result: Record<string, T> = {};\n  const errors: string[] = [];\n\n  for (const [key, val] of Object.entries(value)) {\n    const fieldResult = valueValidator(val);\n    if (fieldResult.success) {\n      result[key] = fieldResult.data;\n    } else {\n      errors.push(`${key}: ${fieldResult.error.message}`);\n    }\n  }\n\n  if (errors.length > 0) {\n    return error(errors.join('; '));\n  }\n\n  return success(result);\n}\n","/**\n * Custom schemas for runtime validation\n * Replaces Zod with lightweight, dependency-free validators\n *\n * @packageDocumentation\n */\n\nimport {\n  ErrorCode,\n  type ErrorSeverity,\n  type ValidationError,\n  type ValidatorResult,\n  type ValidatorConfig,\n} from './types';\nimport {\n  validateEnum,\n  validateString,\n  validateEmail,\n  validateInteger,\n  validatePositiveInteger,\n  validateBoolean,\n  validateObject,\n  validateOptional,\n  validateRecord,\n  type ValidationResult,\n} from './utils/validation';\n\n/**\n * Schema-like object with safeParse method matching Zod API\n */\nclass Schema<T> {\n  constructor(private validator: (value: unknown) => ValidationResult<T>) {}\n\n  safeParse(value: unknown): ValidationResult<T> {\n    return this.validator(value);\n  }\n}\n\n/**\n * Schema for error severity levels\n */\nexport const errorSeveritySchema = new Schema<ErrorSeverity>((value) =>\n  validateEnum(value, ['warning', 'error', 'critical'] as const, 'Invalid error severity')\n);\n\n/**\n * Schema for error codes\n */\nexport const errorCodeSchema = new Schema<ErrorCode | string>((value) => {\n  if (typeof value === 'string') {\n    // Check if it's a valid ErrorCode enum value\n    const errorCodes = Object.values(ErrorCode) as string[];\n    if (errorCodes.includes(value)) {\n      return { success: true, data: value as ErrorCode };\n    }\n    // Allow custom string error codes\n    return { success: true, data: value };\n  }\n  return { success: false, error: { message: 'Expected string or ErrorCode enum' } };\n});\n\n/**\n * Schema for validation error details\n */\nexport const validationErrorSchema = new Schema<ValidationError>((value) => {\n  const result = validateObject(\n    value,\n    {\n      code: (val) => errorCodeSchema.safeParse(val),\n      message: (val) => validateString(val, 1, 'Error message cannot be empty'),\n      suggestion: (val) => validateOptional(val, validateString),\n      severity: (val) => errorSeveritySchema.safeParse(val),\n      validator: (val) => validateOptional(val, validateString),\n      details: () => ({ success: true, data: undefined as unknown }),\n    },\n    true // Allow extra fields\n  );\n  return result as ValidationResult<ValidationError>;\n});\n\n/**\n * Schema for validator result\n */\nexport const validatorResultSchema = new Schema<ValidatorResult>((value) => {\n  const result = validateObject(\n    value,\n    {\n      valid: (val) => validateBoolean(val),\n      validator: (val) => validateString(val, 1, 'Validator name cannot be empty'),\n      error: (val) => validateOptional(val, (v) => validationErrorSchema.safeParse(v)),\n      details: (val) =>\n        validateOptional(val, (v) => validateRecord(v, () => ({ success: true, data: v }))),\n    },\n    true\n  );\n  return result as ValidationResult<ValidatorResult>;\n});\n\n/**\n * Schema for validator configuration\n */\nexport const validatorConfigSchema = new Schema<ValidatorConfig>((value) => {\n  if (!value || typeof value !== 'object' || Array.isArray(value)) {\n    return { success: false, error: { message: 'Expected object' } };\n  }\n  const obj = value as Record<string, unknown>;\n  if (!('enabled' in obj)) {\n    return { success: false, error: { message: 'Missing required field: enabled' } };\n  }\n  const enabledResult = validateBoolean(obj.enabled);\n  if (!enabledResult.success) {\n    return enabledResult;\n  }\n  return { success: true, data: { enabled: enabledResult.data } };\n});\n\n/**\n * Schema for validator options (validators can be boolean or config object)\n */\nconst validatorOptionsConfigSchema = new Schema<\n  Record<string, ValidatorConfig | boolean | undefined>\n>((value) => {\n  if (!value || typeof value !== 'object' || Array.isArray(value)) {\n    return { success: false, error: { message: 'Expected object' } };\n  }\n\n  const result: Record<string, ValidatorConfig | boolean | undefined> = {};\n  const errors: string[] = [];\n\n  for (const [key, val] of Object.entries(value)) {\n    if (val === undefined) {\n      result[key] = undefined;\n    } else if (typeof val === 'boolean') {\n      result[key] = val;\n    } else {\n      const configResult = validatorConfigSchema.safeParse(val);\n      if (configResult.success) {\n        result[key] = configResult.data;\n      } else {\n        errors.push(`${key}: ${configResult.error.message}`);\n      }\n    }\n  }\n\n  if (errors.length > 0) {\n    return { success: false, error: { message: errors.join('; ') } };\n  }\n\n  return { success: true, data: result };\n});\n\n/**\n * Schema for validator options (single email validation)\n */\nexport const validatorOptionsSchema = new Schema<{\n  email: string;\n  validators?: Record<string, ValidatorConfig | boolean | undefined>;\n  earlyExit?: boolean;\n  timeout?: number;\n}>((value) => {\n  const result = validateObject(\n    value,\n    {\n      email: (val) => validateEmail(val, 'Invalid email format'),\n      validators: (val) => validateOptional(val, (v) => validatorOptionsConfigSchema.safeParse(v)),\n      earlyExit: (val) => validateOptional(val, validateBoolean),\n      timeout: (val) =>\n        validateOptional(val, (v) =>\n          validatePositiveInteger(v, 'Timeout must be a positive integer')\n        ),\n    },\n    true\n  );\n  return result as ValidationResult<{\n    email: string;\n    validators?: Record<string, ValidatorConfig | boolean | undefined>;\n    earlyExit?: boolean;\n    timeout?: number;\n  }>;\n});\n\n/**\n * Schema for validation result reason\n */\nconst validationReasonSchema = new Schema<\n  'regex' | 'typo' | 'disposable' | 'mx' | 'smtp' | 'custom'\n>((value) =>\n  validateEnum(\n    value,\n    ['regex', 'typo', 'disposable', 'mx', 'smtp', 'custom'] as const,\n    'Invalid reason'\n  )\n);\n\n/**\n * Schema for validation result validators object\n */\nconst validatorsResultSchema = new Schema<Record<string, ValidatorResult | undefined>>((value) => {\n  if (!value || typeof value !== 'object' || Array.isArray(value)) {\n    return { success: false, error: { message: 'Expected object' } };\n  }\n\n  const result: Record<string, ValidatorResult | undefined> = {};\n  const errors: string[] = [];\n\n  for (const [key, val] of Object.entries(value)) {\n    if (val === undefined) {\n      result[key] = undefined;\n    } else {\n      const validatorResult = validatorResultSchema.safeParse(val);\n      if (validatorResult.success) {\n        result[key] = validatorResult.data;\n      } else {\n        errors.push(`${key}: ${validatorResult.error.message}`);\n      }\n    }\n  }\n\n  if (errors.length > 0) {\n    return { success: false, error: { message: errors.join('; ') } };\n  }\n\n  return { success: true, data: result };\n});\n\n/**\n * Schema for validation result (output format)\n */\nexport const validationResultSchema = new Schema<{\n  valid: boolean;\n  email: string;\n  score: number;\n  reason?: 'regex' | 'typo' | 'disposable' | 'mx' | 'smtp' | 'custom';\n  validators: Record<string, ValidatorResult | undefined>;\n}>((value) => {\n  const result = validateObject(\n    value,\n    {\n      valid: (val) => validateBoolean(val),\n      email: (val) => validateEmail(val, 'Invalid email format'),\n      score: (val) => {\n        const result = validateInteger(val, 0, 100, 'Score must be between 0 and 100');\n        return result;\n      },\n      reason: (val) => validateOptional(val, (v) => validationReasonSchema.safeParse(v)),\n      validators: (val) => validatorsResultSchema.safeParse(val),\n    },\n    true\n  );\n  return result as ValidationResult<{\n    valid: boolean;\n    email: string;\n    score: number;\n    reason?: 'regex' | 'typo' | 'disposable' | 'mx' | 'smtp' | 'custom';\n    validators: Record<string, ValidatorResult | undefined>;\n  }>;\n});\n\n/**\n * Schema for configuration preset\n */\nexport const presetSchema = new Schema<'strict' | 'balanced' | 'permissive'>((value) =>\n  validateEnum(value, ['strict', 'balanced', 'permissive'] as const, 'Invalid preset')\n);\n\n/**\n * Schema for full configuration\n */\nexport const configSchema = new Schema<{\n  preset?: 'strict' | 'balanced' | 'permissive';\n  validators?: Record<string, ValidatorConfig | boolean | undefined>;\n  earlyExit?: boolean;\n  timeout?: number;\n}>((value) => {\n  const result = validateObject(\n    value,\n    {\n      preset: (val) => validateOptional(val, (v) => presetSchema.safeParse(v)),\n      validators: (val) => validateOptional(val, (v) => validatorOptionsConfigSchema.safeParse(v)),\n      earlyExit: (val) => validateOptional(val, validateBoolean),\n      timeout: (val) =>\n        validateOptional(val, (v) =>\n          validatePositiveInteger(v, 'Timeout must be a positive integer')\n        ),\n    },\n    true\n  );\n  return result as ValidationResult<{\n    preset?: 'strict' | 'balanced' | 'permissive';\n    validators?: Record<string, ValidatorConfig | boolean | undefined>;\n    earlyExit?: boolean;\n    timeout?: number;\n  }>;\n});\n","/**\n * Configuration Manager for mailtest\n *\n * Handles configuration merging, presets, and validation\n *\n * @packageDocumentation\n */\n\nimport { configSchema } from '../schemas';\nimport type { ValidatorConfig } from '../types';\n\n/**\n * Default configuration\n */\nconst defaultConfig = {\n  validators: {\n    regex: { enabled: true },\n    typo: { enabled: true },\n    disposable: { enabled: true },\n    mx: { enabled: true },\n    smtp: { enabled: false }, // Disabled by default (slow)\n  },\n  earlyExit: false,\n  timeout: undefined,\n} as const;\n\n/**\n * Strict preset configuration\n * All validators enabled, early exit on first failure\n */\nconst strictPreset = {\n  validators: {\n    regex: { enabled: true },\n    typo: { enabled: true },\n    disposable: { enabled: true },\n    mx: { enabled: true },\n    smtp: { enabled: true },\n  },\n  earlyExit: true,\n} as const;\n\n/**\n * Balanced preset configuration (default)\n * Most validators enabled, SMTP disabled for speed\n */\nconst balancedPreset = {\n  validators: {\n    regex: { enabled: true },\n    typo: { enabled: true },\n    disposable: { enabled: true },\n    mx: { enabled: true },\n    smtp: { enabled: false },\n  },\n  earlyExit: false,\n} as const;\n\n/**\n * Permissive preset configuration\n * Only regex validation enabled\n */\nconst permissivePreset = {\n  validators: {\n    regex: { enabled: true },\n    typo: { enabled: false },\n    disposable: { enabled: false },\n    mx: { enabled: false },\n    smtp: { enabled: false },\n  },\n  earlyExit: true,\n} as const;\n\n/**\n * Configuration type\n */\nexport interface Config {\n  validators?: {\n    regex?: ValidatorConfig | boolean;\n    typo?: ValidatorConfig | boolean;\n    disposable?: ValidatorConfig | boolean;\n    mx?: ValidatorConfig | boolean;\n    smtp?: ValidatorConfig | boolean;\n    [key: string]: ValidatorConfig | boolean | undefined;\n  };\n  earlyExit?: boolean;\n  timeout?: number;\n  preset?: 'strict' | 'balanced' | 'permissive';\n}\n\n/**\n * Merged configuration type (after processing)\n */\nexport interface MergedConfig {\n  validators: Record<string, ValidatorConfig>;\n  earlyExit: boolean;\n  timeout: number | undefined;\n}\n\n/**\n * Configuration Manager class\n *\n * Handles configuration merging, validation, and preset loading\n */\nexport class ConfigManager {\n  private config: MergedConfig;\n\n  /**\n   * Create a new ConfigManager instance\n   *\n   * @param userConfig - User-provided configuration (optional)\n   * @throws {Error} If configuration is invalid\n   */\n  constructor(userConfig?: Partial<Config>) {\n    // Validate user config\n    if (userConfig) {\n      const validationResult = configSchema.safeParse(userConfig);\n      if (!validationResult.success) {\n        throw new Error(`Invalid configuration: ${validationResult.error.message}`);\n      }\n    }\n\n    // Merge configurations in order: defaults -> preset -> user config\n    this.config = this.mergeConfigurations(userConfig);\n  }\n\n  /**\n   * Merge configurations in priority order\n   *\n   * Priority: defaults -> preset -> user config\n   */\n  private mergeConfigurations(userConfig?: Partial<Config>): MergedConfig {\n    // Start with defaults\n    let merged: Partial<MergedConfig> = {\n      validators: {\n        regex: { enabled: defaultConfig.validators.regex.enabled },\n        typo: { enabled: defaultConfig.validators.typo.enabled },\n        disposable: {\n          enabled: defaultConfig.validators.disposable.enabled,\n        },\n        mx: { enabled: defaultConfig.validators.mx.enabled },\n        smtp: { enabled: defaultConfig.validators.smtp.enabled },\n      },\n      earlyExit: defaultConfig.earlyExit,\n      timeout: defaultConfig.timeout ?? undefined,\n    };\n\n    // Apply preset if specified\n    if (userConfig?.preset) {\n      const preset = this.getPresetConfig(userConfig.preset);\n      merged = this.deepMerge(merged, preset);\n    }\n\n    // Apply user config (highest priority)\n    if (userConfig) {\n      const { preset: _preset, ...configWithoutPreset } = userConfig;\n      merged = this.deepMerge(merged, configWithoutPreset);\n    }\n\n    // Normalize validators (convert booleans to config objects)\n    const normalizedValidators = this.normalizeValidators(merged.validators ?? {});\n\n    return {\n      validators: normalizedValidators,\n      earlyExit: merged.earlyExit ?? false,\n      timeout: merged.timeout,\n    };\n  }\n\n  /**\n   * Get preset configuration\n   */\n  private getPresetConfig(preset: 'strict' | 'balanced' | 'permissive'): Partial<Config> {\n    switch (preset) {\n      case 'strict':\n        return {\n          validators: {\n            regex: { enabled: strictPreset.validators.regex.enabled },\n            typo: { enabled: strictPreset.validators.typo.enabled },\n            disposable: {\n              enabled: strictPreset.validators.disposable.enabled,\n            },\n            mx: { enabled: strictPreset.validators.mx.enabled },\n            smtp: { enabled: strictPreset.validators.smtp.enabled },\n          },\n          earlyExit: strictPreset.earlyExit,\n        };\n      case 'balanced':\n        return {\n          validators: {\n            regex: { enabled: balancedPreset.validators.regex.enabled },\n            typo: { enabled: balancedPreset.validators.typo.enabled },\n            disposable: {\n              enabled: balancedPreset.validators.disposable.enabled,\n            },\n            mx: { enabled: balancedPreset.validators.mx.enabled },\n            smtp: { enabled: balancedPreset.validators.smtp.enabled },\n          },\n          earlyExit: balancedPreset.earlyExit,\n        };\n      case 'permissive':\n        return {\n          validators: {\n            regex: { enabled: permissivePreset.validators.regex.enabled },\n            typo: { enabled: permissivePreset.validators.typo.enabled },\n            disposable: {\n              enabled: permissivePreset.validators.disposable.enabled,\n            },\n            mx: { enabled: permissivePreset.validators.mx.enabled },\n            smtp: { enabled: permissivePreset.validators.smtp.enabled },\n          },\n          earlyExit: permissivePreset.earlyExit,\n        };\n      default:\n        return {};\n    }\n  }\n\n  /**\n   * Deep merge two configuration objects\n   */\n  private deepMerge(target: Partial<MergedConfig>, source: Partial<Config>): Partial<MergedConfig> {\n    const result: Partial<MergedConfig> = { ...target };\n\n    // Merge validators\n    if (source.validators) {\n      result.validators = {\n        ...(result.validators ?? {}),\n        ...source.validators,\n      } as Record<string, ValidatorConfig>;\n    }\n\n    // Merge other properties\n    if (source.earlyExit !== undefined) {\n      result.earlyExit = source.earlyExit;\n    }\n\n    if (source.timeout !== undefined) {\n      result.timeout = source.timeout;\n    } else if (source.timeout === undefined && target.timeout === undefined) {\n      result.timeout = undefined;\n    }\n\n    return result;\n  }\n\n  /**\n   * Normalize validators: convert booleans to config objects\n   */\n  private normalizeValidators(\n    validators: Record<string, ValidatorConfig | boolean | undefined>\n  ): Record<string, ValidatorConfig> {\n    const normalized: Record<string, ValidatorConfig> = {};\n\n    for (const [key, value] of Object.entries(validators)) {\n      if (value === undefined) {\n        continue;\n      }\n\n      if (typeof value === 'boolean') {\n        normalized[key] = { enabled: value };\n      } else if (value !== undefined) {\n        normalized[key] = value;\n      }\n    }\n\n    return normalized;\n  }\n\n  /**\n   * Get the merged configuration\n   */\n  get(): MergedConfig {\n    return { ...this.config };\n  }\n\n  /**\n   * Get a specific configuration value\n   *\n   * @param key - Configuration key path (e.g., 'validators.regex.enabled')\n   */\n  getValue<T = unknown>(key: string): T {\n    const keys = key.split('.');\n    let value: unknown = this.config;\n\n    for (const k of keys) {\n      if (value && typeof value === 'object' && k in (value as Record<string, unknown>)) {\n        value = (value as Record<string, unknown>)[k];\n      } else {\n        throw new Error(`Configuration key \"${key}\" not found`);\n      }\n    }\n\n    return value as T;\n  }\n\n  /**\n   * Check if a validator is enabled\n   *\n   * @param validatorName - Name of the validator\n   */\n  isValidatorEnabled(validatorName: string): boolean {\n    const validator = this.config.validators[validatorName];\n    return validator?.enabled ?? false;\n  }\n}\n","/**\n * Custom error classes for mailtest\n *\n * @packageDocumentation\n */\n\nimport {\n  ErrorCode,\n  type ErrorSeverity,\n  type ValidationError as ValidationErrorType,\n} from '../types';\n\n/**\n * Base validation error class\n *\n * All custom errors extend this class for consistent error handling\n */\nexport class ValidationError extends Error {\n  public readonly code: ErrorCode | string;\n  public readonly validator: string | undefined;\n  public readonly details: unknown | undefined;\n  public readonly severity: ErrorSeverity;\n\n  constructor(\n    message: string,\n    code: ErrorCode | string,\n    validator?: string,\n    details?: unknown,\n    severity: ErrorSeverity = 'error'\n  ) {\n    super(message);\n    this.name = 'ValidationError';\n    this.code = code;\n    this.validator = validator;\n    this.details = details;\n    this.severity = severity;\n\n    // Maintains proper stack trace for where error was thrown (V8 only)\n    if ('captureStackTrace' in Error && typeof Error.captureStackTrace === 'function') {\n      Error.captureStackTrace(this, ValidationError);\n    }\n  }\n\n  /**\n   * Convert error to ValidationErrorType interface\n   */\n  toValidationError(): ValidationErrorType {\n    const result: ValidationErrorType = {\n      code: this.code,\n      message: this.message,\n      severity: this.severity,\n    };\n\n    if (this.validator !== undefined) {\n      result.validator = this.validator;\n    }\n\n    if (this.details !== undefined) {\n      result.details = this.details;\n    }\n\n    return result;\n  }\n}\n\n/**\n * Configuration error\n *\n * Thrown when configuration is invalid or missing required options\n */\nexport class ConfigurationError extends ValidationError {\n  constructor(message: string, code: ErrorCode = ErrorCode.INVALID_CONFIG, details?: unknown) {\n    super(message, code, undefined, details, 'error');\n    this.name = 'ConfigurationError';\n  }\n}\n\n/**\n * Network error\n *\n * Thrown when network operations fail (DNS, SMTP connection, etc.)\n */\nexport class NetworkError extends ValidationError {\n  constructor(message: string, validator?: string, details?: unknown) {\n    super(message, ErrorCode.NETWORK_ERROR, validator, details, 'error');\n    this.name = 'NetworkError';\n  }\n}\n\n/**\n * Timeout error\n *\n * Thrown when an operation exceeds the configured timeout\n */\nexport class TimeoutError extends ValidationError {\n  constructor(message: string, validator?: string, timeout?: number, details?: unknown) {\n    super(\n      message,\n      ErrorCode.SMTP_TIMEOUT,\n      validator,\n      { timeout, ...(details as Record<string, unknown>) },\n      'error'\n    );\n    this.name = 'TimeoutError';\n  }\n}\n\n/**\n * Error message templates\n *\n * Provides consistent error messages with helpful suggestions\n */\nexport const ERROR_MESSAGES: Record<\n  ErrorCode | string,\n  {\n    message: string;\n    suggestion?: string | ((details?: unknown) => string);\n    severity: ErrorSeverity;\n  }\n> = {\n  // Configuration errors\n  [ErrorCode.INVALID_CONFIG]: {\n    message: 'Invalid configuration provided',\n    suggestion: 'Check your configuration object for invalid values',\n    severity: 'error',\n  },\n  [ErrorCode.MISSING_REQUIRED_OPTION]: {\n    message: 'Missing required configuration option',\n    suggestion: 'Check the documentation for required configuration options',\n    severity: 'error',\n  },\n\n  // Validation errors\n  [ErrorCode.REGEX_INVALID_FORMAT]: {\n    message: 'Email format is invalid',\n    suggestion: 'Ensure email contains @ symbol and domain with extension',\n    severity: 'error',\n  },\n  [ErrorCode.TYPO_DETECTED]: {\n    message: 'Possible typo in email domain',\n    suggestion: (details?: unknown) => {\n      const suggestion = (details as { suggestion?: string })?.suggestion;\n      return suggestion ? `Did you mean ${suggestion}?` : 'Check the domain spelling';\n    },\n    severity: 'warning',\n  },\n  [ErrorCode.DISPOSABLE_DOMAIN]: {\n    message: 'Disposable email addresses are not allowed',\n    suggestion: 'Please use a permanent email address',\n    severity: 'error',\n  },\n  [ErrorCode.MX_NOT_FOUND]: {\n    message: 'No MX records found for domain',\n    suggestion: 'Verify the domain exists and has mail servers configured',\n    severity: 'error',\n  },\n  [ErrorCode.MX_LOOKUP_FAILED]: {\n    message: 'Failed to lookup MX records',\n    suggestion: 'Check your network connection and DNS settings',\n    severity: 'error',\n  },\n  [ErrorCode.SMTP_MAILBOX_NOT_FOUND]: {\n    message: 'Email address does not exist',\n    suggestion: 'Verify the email address is correct',\n    severity: 'error',\n  },\n  [ErrorCode.SMTP_CONNECTION_FAILED]: {\n    message: 'Failed to connect to mail server',\n    suggestion: 'The mail server may be temporarily unavailable',\n    severity: 'error',\n  },\n  [ErrorCode.SMTP_TIMEOUT]: {\n    message: 'SMTP validation timed out',\n    suggestion: 'The mail server may be slow or unreachable',\n    severity: 'error',\n  },\n\n  // System errors\n  [ErrorCode.CACHE_ERROR]: {\n    message: 'Cache operation failed',\n    suggestion: 'Check cache configuration',\n    severity: 'warning',\n  },\n  [ErrorCode.RATE_LIMIT_EXCEEDED]: {\n    message: 'Rate limit exceeded',\n    suggestion: 'Wait before retrying or adjust rate limit settings',\n    severity: 'warning',\n  },\n  [ErrorCode.PLUGIN_ERROR]: {\n    message: 'Plugin error occurred',\n    suggestion: 'Check plugin configuration and logs',\n    severity: 'error',\n  },\n  [ErrorCode.NETWORK_ERROR]: {\n    message: 'Network error occurred',\n    suggestion: 'Check your network connection and try again',\n    severity: 'error',\n  },\n};\n\n/**\n * Create a ValidationError from an ErrorCode\n *\n * @param code - Error code\n * @param validator - Optional validator name\n * @param details - Optional additional details\n * @returns ValidationError instance\n */\nexport function createError(\n  code: ErrorCode | string,\n  validator?: string,\n  details?: unknown\n): ValidationError {\n  const template = ERROR_MESSAGES[code] ?? {\n    message: 'An error occurred',\n    severity: 'error' as ErrorSeverity,\n  };\n\n  const message = template.message;\n  const severity = template.severity;\n\n  return new ValidationError(message, code, validator, details, severity);\n}\n","/**\n * Simple logger utility for mailtest\n *\n * Provides configurable logging with different severity levels\n *\n * @packageDocumentation\n */\n\n// Console methods (available in Node.js runtime)\nconst logDebug = (...args: unknown[]): void => {\n  // @ts-expect-error - console is available in Node.js runtime\n  console.debug(...args);\n};\n\nconst logInfo = (...args: unknown[]): void => {\n  // @ts-expect-error - console is available in Node.js runtime\n  console.info(...args);\n};\n\nconst logWarn = (...args: unknown[]): void => {\n  // @ts-expect-error - console is available in Node.js runtime\n  console.warn(...args);\n};\n\nconst logError = (...args: unknown[]): void => {\n  // @ts-expect-error - console is available in Node.js runtime\n  console.error(...args);\n};\n\n/**\n * Log levels in order of severity\n */\nexport type LogLevel = 'debug' | 'info' | 'warn' | 'error';\n\n/**\n * Logger configuration\n */\nexport interface LoggerConfig {\n  /** Enable or disable logging */\n  enabled?: boolean;\n\n  /** Minimum log level to output */\n  level?: LogLevel;\n}\n\n/**\n * Default logger configuration\n */\nconst defaultConfig: Required<LoggerConfig> = {\n  enabled: false, // Disabled by default\n  level: 'info',\n};\n\n/**\n * Log level priority (higher number = higher priority)\n */\nconst LOG_LEVEL_PRIORITY: Record<LogLevel, number> = {\n  debug: 0,\n  info: 1,\n  warn: 2,\n  error: 3,\n};\n\n/**\n * Logger class\n *\n * Simple, configurable logger with different severity levels\n */\nexport class Logger {\n  private config: Required<LoggerConfig>;\n\n  constructor(config?: LoggerConfig) {\n    this.config = {\n      enabled: config?.enabled ?? defaultConfig.enabled,\n      level: config?.level ?? defaultConfig.level,\n    };\n  }\n\n  /**\n   * Check if a log level should be output\n   */\n  private shouldLog(level: LogLevel): boolean {\n    if (!this.config.enabled) {\n      return false;\n    }\n\n    const levelPriority = LOG_LEVEL_PRIORITY[level];\n    const configPriority = LOG_LEVEL_PRIORITY[this.config.level];\n\n    return levelPriority >= configPriority;\n  }\n\n  /**\n   * Format log message with prefix\n   */\n  private formatMessage(level: LogLevel, message: string): string {\n    const timestamp = new Date().toISOString();\n    return `[${timestamp}] [${level.toUpperCase()}] ${message}`;\n  }\n\n  /**\n   * Log debug message\n   */\n  debug(message: string, ...args: unknown[]): void {\n    if (this.shouldLog('debug')) {\n      logDebug(this.formatMessage('debug', message), ...args);\n    }\n  }\n\n  /**\n   * Log info message\n   */\n  info(message: string, ...args: unknown[]): void {\n    if (this.shouldLog('info')) {\n      logInfo(this.formatMessage('info', message), ...args);\n    }\n  }\n\n  /**\n   * Log warning message\n   */\n  warn(message: string, ...args: unknown[]): void {\n    if (this.shouldLog('warn')) {\n      logWarn(this.formatMessage('warn', message), ...args);\n    }\n  }\n\n  /**\n   * Log error message\n   */\n  error(message: string, ...args: unknown[]): void {\n    if (this.shouldLog('error')) {\n      logError(this.formatMessage('error', message), ...args);\n    }\n  }\n\n  /**\n   * Update logger configuration\n   */\n  configure(config: LoggerConfig): void {\n    this.config = {\n      enabled: config.enabled ?? this.config.enabled,\n      level: config.level ?? this.config.level,\n    };\n  }\n\n  /**\n   * Enable logging\n   */\n  enable(): void {\n    this.config.enabled = true;\n  }\n\n  /**\n   * Disable logging\n   */\n  disable(): void {\n    this.config.enabled = false;\n  }\n\n  /**\n   * Check if logger is enabled\n   */\n  isEnabled(): boolean {\n    return this.config.enabled;\n  }\n\n  /**\n   * Get current log level\n   */\n  getLevel(): LogLevel {\n    return this.config.level;\n  }\n\n  /**\n   * Set log level\n   */\n  setLevel(level: LogLevel): void {\n    this.config.level = level;\n  }\n}\n\n/**\n * Default logger instance\n */\nlet defaultLogger: Logger | undefined;\n\n/**\n * Get the default logger instance\n */\nexport function getLogger(): Logger {\n  if (!defaultLogger) {\n    defaultLogger = new Logger();\n  }\n  return defaultLogger;\n}\n\n/**\n * Create a new logger instance\n */\nexport function createLogger(config?: LoggerConfig): Logger {\n  return new Logger(config);\n}\n","/**\n * @mailtest/core - Modern email validation library\n *\n * @packageDocumentation\n */\n\n// Export all core types\nexport type {\n  ValidationResult,\n  ValidatorResult,\n  ValidatorConfig,\n  ValidatorOptions,\n  ValidationError as ValidationErrorType,\n  ErrorSeverity,\n} from './types';\n\nexport { ErrorCode } from './types';\n\n// Export configuration manager\nexport { ConfigManager } from './config/config';\nexport type { Config, MergedConfig } from './config/config';\n\n// Export error classes\nexport {\n  ValidationError,\n  ConfigurationError,\n  NetworkError,\n  TimeoutError,\n  createError,\n  ERROR_MESSAGES,\n} from './errors/errors';\n\n// Export logger utility\nexport { Logger, createLogger, getLogger } from './utils/logger';\nexport type { LogLevel, LoggerConfig } from './utils/logger';\n\n/**\n * Placeholder function for initial setup\n * Will be replaced with actual validation logic\n */\nexport function validateEmail(email: string): boolean {\n  if (!email || typeof email !== 'string') {\n    return false;\n  }\n\n  // Basic validation placeholder\n  return email.includes('@');\n}\n\n/**\n * Library version\n */\nexport const VERSION = '1.0.0';\n"]}